"use strict";exports.id=982,exports.ids=[982],exports.modules={5982:(e,s,r)=>{r.d(s,{Nr:()=>h,OV:()=>g});var a=r(687),i=r(3210),t=r(4934),l=r(5126),n=r(8869),c=r(3411),d=r(83),x=r(8712),m=r(5814),o=r.n(m);let h=()=>{let[e,s]=(0,i.useState)(!1),{user:r,profile:m,signOut:h,loading:u}=(0,l.A)();return u?(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"w-24 h-10 bg-gray-200 rounded-md"})}):r&&m?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(t.$,{onClick:()=>s(!e),variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{size:18}),(0,a.jsx)("span",{className:"hidden sm:inline",children:m.username})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-20",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:m.full_name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:r.email})]}),(0,a.jsxs)(o(),{href:"/dashboard",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>s(!1),children:[(0,a.jsx)(c.A,{size:16}),"Dashboard"]}),(0,a.jsxs)("button",{onClick:()=>{h(),s(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(d.A,{size:16}),"Cerrar Sesi\xf3n"]})]})})]})]}):(0,a.jsx)(o(),{href:"/auth/login",children:(0,a.jsxs)(t.$,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,a.jsx)(x.A,{size:18,className:"mr-2"}),"Iniciar Sesi\xf3n"]})})};var u=r(6189);let g=({children:e,redirectTo:s="/auth/login",requireProfile:r=!0})=>{let{user:t,profile:n,loading:c}=(0,l.A)(),d=(0,u.useRouter)();return((0,i.useEffect)(()=>{if(!c){if(!t){d.push(s);return}if(r&&!n){console.error("Usuario sin perfil encontrado"),d.push(s);return}}},[t,n,c,d,s,r]),c)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-600 mt-4",children:"Verificando autenticaci\xf3n..."})]})}):t&&(!r||n)?(0,a.jsx)(a.Fragment,{children:e}):null}}};