(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{5424:(e,a,s)=>{Promise.resolve().then(s.bind(s,9053))},9053:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var r=s(5155),i=s(2115),t=s(896);function l(){let[e,a]=(0,i.useState)([]),s=(0,t.T)({debug:!0,cameraConstraints:{width:640,height:480,facingMode:"user"}}),l=e=>{a(a=>[...a,"".concat(new Date().toLocaleTimeString(),": ").concat(e)])},n=async()=>{l("\uD83C\uDFA5 Probando CameraService..."),await s.initialize()?l("✅ CameraService: Inicializaci\xf3n exitosa"):l("❌ CameraService: Error en inicializaci\xf3n")},c=async()=>{l("\uD83D\uDCF7 Probando FrameCaptureService...");try{let e=await s.captureFrame();e?l("✅ FrameCaptureService: Frame capturado (".concat(e.size," bytes)")):l("❌ FrameCaptureService: No se pudo capturar frame")}catch(e){l("❌ FrameCaptureService: Error - ".concat(e))}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"\uD83E\uDDEA Test de Nuevos Servicios"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCF9 Vista de C\xe1mara"}),(0,r.jsx)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden",children:(0,r.jsx)("video",{ref:s.videoRef,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0})}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Estado C\xe1mara:"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("granted"===s.permission?"bg-green-100 text-green-800":"denied"===s.permission?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:s.permission})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"WebSocket:"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("connected"===s.realtimeStatus?"bg-green-100 text-green-800":"error"===s.realtimeStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:s.realtimeStatus})]}),s.isTranslating&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Predicci\xf3n:"}),(0,r.jsxs)("span",{className:"font-bold text-lg",children:[s.currentPrediction||"..."," (",(100*s.confidence).toFixed(2),"%)"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83C\uDFAE Controles de Prueba"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:n,disabled:s.isInitializing,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:s.isInitializing?"⏳ Iniciando...":"\uD83C\uDFA5 Probar CameraService"}),(0,r.jsx)("button",{onClick:()=>{l("\uD83D\uDD0C Probando WebSocketService...");try{s.startRealtimeTranslation(),l("✅ WebSocketService: Iniciando conexi\xf3n..."),setTimeout(()=>{s.stopRealtimeTranslation(),l("\uD83D\uDD0C WebSocketService: Desconectado")},5e3)}catch(e){l("❌ WebSocketService: Error de conexi\xf3n")}},disabled:"granted"!==s.permission||s.isTranslating,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-green-300 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:s.isTranslating?"\uD83D\uDD04 Traduciendo...":"\uD83D\uDD0C Probar WebSocket"}),(0,r.jsx)("button",{onClick:c,disabled:"granted"!==s.permission,className:"w-full bg-purple-500 hover:bg-purple-600 disabled:bg-purple-300 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\uD83D\uDCF7 Probar Captura Frame"}),(0,r.jsx)("button",{onClick:()=>s.cleanup(),className:"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\uD83E\uDDF9 Limpiar Recursos"}),(0,r.jsx)("button",{onClick:()=>{a([])},className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\uD83D\uDDD1️ Limpiar Resultados"})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:"\uD83D\uDCCA Info de Servicios"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("div",{children:["Soporte: ",s.isSupported?"✅":"❌"]}),(0,r.jsxs)("div",{children:["Stats: ",JSON.stringify(s.getStats())]}),(0,r.jsxs)("div",{children:["Error: ",s.error||"N/A"]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCDD Resultados de Pruebas"}),(0,r.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg max-h-96 overflow-y-auto font-mono text-sm",children:0===e.length?(0,r.jsx)("div",{className:"text-gray-500",children:"No hay resultados a\xfan... \xa1Ejecuta algunas pruebas!"}):e.map((e,a)=>(0,r.jsx)("div",{className:"mb-1",children:e},a))})]}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-50 border-l-4 border-blue-400 p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCCB Instrucciones de Prueba"}),(0,r.jsxs)("ol",{className:"text-blue-700 text-sm space-y-1",children:[(0,r.jsx)("li",{children:'1. Haz clic en "Probar CameraService" para inicializar la c\xe1mara'}),(0,r.jsx)("li",{children:"2. Permite el acceso a la c\xe1mara cuando se solicite"}),(0,r.jsx)("li",{children:'3. Prueba "Probar WebSocket" para verificar la conexi\xf3n'}),(0,r.jsx)("li",{children:'4. Usa "Probar Captura Frame" para verificar que los frames se capturan'}),(0,r.jsx)("li",{children:"5. Observa la consola del navegador para logs detallados"})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[896,441,684,358],()=>a(5424)),_N_E=e.O()}]);