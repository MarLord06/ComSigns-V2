(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{646:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1539:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},2919:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6254:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var s=t(5155),r=t(2115);class l extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){console.error("Error Boundary caught an error:",e,a)}render(){return this.state.hasError?this.props.fallback||(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,s.jsx)("div",{className:"max-w-md w-full bg-white p-6 rounded-lg shadow-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-red-600 mb-4",children:(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Oops! Algo sali\xf3 mal"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Ocurri\xf3 un error inesperado. Por favor intenta recargar la p\xe1gina."}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Recargar p\xe1gina"}),!1]})})}):this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null}}}let n=l},8186:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},8564:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},8968:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>T});var s=t(5155),r=t(2115),l=t(8693),n=t(8482),c=t(1397),i=t(7168),o=t(2919),d=t(8564),u=t(5690);function m(e){let{id:a,name:t,description:r,color:l,bgColor:c,unlocked:m,completed:x,stars:g,onSelect:h}=e;return(0,s.jsxs)(n.Zp,{className:"relative transition-all hover:shadow-lg cursor-pointer ".concat(m?"hover:scale-105":"opacity-50"),onClick:m?h:void 0,children:[(0,s.jsxs)(n.aR,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"w-12 h-12 ".concat(c," rounded-lg flex items-center justify-center"),children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:a})}),!m&&(0,s.jsx)(o.A,{className:"h-5 w-5 text-gray-400"}),x&&(0,s.jsx)("div",{className:"flex gap-1",children:Array.from({length:3},(e,a)=>(0,s.jsx)(d.A,{className:"h-4 w-4 ".concat(a<g?"text-yellow-500 fill-current":"text-gray-300")},a))})]}),(0,s.jsx)(n.ZB,{className:"text-lg ".concat(l),children:t})]}),(0,s.jsxs)(n.Wu,{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:r}),m&&(0,s.jsxs)(i.$,{className:"w-full",variant:x?"outline":"default",onClick:h,children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),x?"Jugar de nuevo":"Comenzar"]})]})]})}function x(e){let{title:a,value:t,description:r,icon:l,color:c="bg-blue-500"}=e;return(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:a}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t}),r&&(0,s.jsx)("p",{className:"text-xs text-gray-500",children:r})]}),l&&(0,s.jsx)("div",{className:"w-12 h-12 ".concat(c," rounded-lg flex items-center justify-center"),children:(0,s.jsx)(l,{className:"h-6 w-6 text-white"})})]})})})}t(6254);var g=t(8087),h=t(6052),v=t(4934),j=t(3392),p=t(8145),N=t(1539),f=t(8186),b=t(646),y=t(9946);let A=(0,y.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),C=(0,y.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),E=(0,y.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var k=t(7340);let S=(0,y.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function T(){var e,a,t,n,o,y;let{user:T,profile:w,stats:R}=(0,h.A)(),L=(0,g.lw)(),[I,P]=(0,r.useState)(null),[M,D]=(0,r.useState)(!1),z=(0,r.useRef)(null),[W,F]=(0,r.useState)(""),[O,G]=(0,r.useState)(null),_=(0,r.useRef)(""),U=(0,r.useRef)(null),[$,B]=(0,r.useState)(""),[V,H]=(0,r.useState)(0),[q,K]=(0,r.useState)(!1),Y=(0,r.useRef)(null),J=(0,r.useRef)(!1),Z=(0,r.useRef)(1e3),Q=(0,r.useRef)(0),[X,ee]=(0,r.useState)(!1),ea=(0,r.useRef)(null),{status:et,lastPrediction:es,error:er,connect:el,disconnect:en,sendFrame:ec}=(0,j.U)({autoConnect:!1,log:!0}),{isConnected:ei}=(0,g.kh)(),[eo,ed]=(0,r.useState)(""),eu=(0,r.useCallback)(e=>{if(!L.currentWord)return;let a=L.currentWord.toUpperCase(),t=e.toUpperCase();console.log("[WORD_CHECK] \uD83D\uDD0D Comparando:",t,"vs",a),console.log("[WORD_CHECK] \uD83D\uDCCA Longitudes:",t.length,"vs",a.length),t===a?(console.log("[WORD_CHECK] ✅ \xa1Palabra correcta!"),L.processCorrectAnswer(a),ex()):t.length===a.length?(console.log("[WORD_CHECK] ❌ Palabra incorrecta (longitud completa)"),L.processWrongAnswer(t),ex()):console.log("[WORD_CHECK] ⏳ Palabra incompleta, continuando...")},[L]),em=(0,r.useCallback)(()=>{U.current&&(clearTimeout(U.current),G(null))},[]),ex=(0,r.useCallback)(()=>{console.log("[BUFFER] \uD83D\uDDD1️  Limpiando buffer completo"),F(""),em()},[em]),eg=(0,r.useCallback)(()=>{ea.current&&clearTimeout(ea.current),"playing"===L.gameState&&(ea.current=setTimeout(()=>{console.log("[INACTIVITY] ⏰ Timeout por inactividad - perdiendo vida"),L.processWrongAnswer(),ex(),eg()},45e3),console.log("[INACTIVITY] \uD83D\uDD04 Timer de inactividad reiniciado -",45,"segundos"))},[L,ex]),eh=(0,r.useCallback)(()=>{ea.current&&(clearTimeout(ea.current),ea.current=null,console.log("[INACTIVITY] \uD83D\uDED1 Timer de inactividad detenido"))},[]),ev=(0,r.useCallback)(()=>{if($&&"?"!==$&&V>=.7){let e=W+$;F(e),console.log("[BUFFER] ✅ Letra agregada manualmente:",$,"Buffer:",e),eg(),L.currentWord&&e.length===L.currentWord.length&&setTimeout(()=>eu(e),500)}},[$,V,W,L.currentWord,eu,eg]),ej=(0,r.useCallback)(()=>{let e=_.current;console.log("[BUFFER] \uD83D\uDCE4 Enviando buffer manualmente:",e),e.length>0&&eu(e)},[eu]),ep=(0,r.useCallback)(()=>{Y.current&&clearInterval(Y.current),Y.current=setInterval(()=>{var e;let a=Date.now(),t=a-Q.current;console.log("[FRAME_CAPTURE] \uD83D\uDCF9 Intentando capturar frame...",{cameraRef:!!z.current,isTranslating:J.current,captureFrameMethod:!!(null===(e=z.current)||void 0===e?void 0:e.captureFrame),intervalMs:Z.current,timeSinceLastFrame:t}),z.current&&J.current?(Q.current=a,z.current.captureFrame().then(e=>{if(console.log("[FRAME_CAPTURE] ✅ Frame capturado:",!!e,e?"".concat(e.size," bytes"):"null"),e){let a=new FileReader;a.onloadend=()=>{let e=a.result.split(",")[1];e?(console.log("[FRAME_SEND] \uD83D\uDCE1 Enviando frame al WebSocket:","".concat(e.length," chars")),ec(e)):console.warn("[FRAME_SEND] ⚠️  No se pudo extraer base64Data")},a.readAsDataURL(e)}}).catch(e=>{console.error("[CAMERA] ❌ Error capturando frame:",e)})):console.warn("[FRAME_CAPTURE] ⚠️  No se puede capturar frame:",{cameraRef:!!z.current,isTranslating:J.current})},Z.current),console.log("[FRAME_CAPTURE] ⏱️  Intervalo de captura iniciado con",Z.current,"ms")},[ec]),eN=(0,r.useCallback)(async()=>{if(console.log("[TRANSLATION] \uD83D\uDE80 startRealtimeTranslation llamado, isTranslating:",q,"ref:",J.current),q||J.current){console.log("[TRANSLATION] ⚠️  Ya est\xe1 traduciendo, saliendo...",{isTranslating:q,isTranslatingRefCurrent:J.current});return}console.log("[TRANSLATION] ▶️  Iniciando traducci\xf3n realtime...");try{console.log("[TRANSLATION] \uD83C\uDF9B️  Estableciendo isTranslating = true"),K(!0),J.current=!0,ed(""),F(""),B(""),H(0),ex(),console.log("[TRANSLATION] \uD83C\uDF10 Conectando al servicio realtime..."),await el(),console.log("[TRANSLATION] ✅ Conexi\xf3n realtime completada"),ep(),console.log("[TRANSLATION] ⏱️  Sistema de captura configurado con intervalo fijo de",Z.current,"ms"),console.log("[TRANSLATION] \uD83D\uDCCA Estado final - isTranslating:",q,"ref:",J.current,"intervalRef:",!!Y.current),console.log("[TRANSLATION] \uD83C\uDF89 Traducci\xf3n realtime iniciada exitosamente")}catch(e){console.error("[TRANSLATION] ❌ Error al iniciar traducci\xf3n:",e),K(!1),J.current=!1,ed("Error al conectar con el servicio de traducci\xf3n")}},[q,el,ec,ex,ep]),ef=(0,r.useCallback)(async()=>{console.log("[TRANSLATION] \uD83D\uDED1 Deteniendo traducci\xf3n realtime...",{isTranslating:q,isTranslatingRefCurrent:J.current,hasInterval:!!Y.current}),K(!1),J.current=!1,Y.current&&(clearInterval(Y.current),Y.current=null,console.log("[TRANSLATION] \uD83D\uDDD1️  Intervalo limpiado")),O&&(clearTimeout(O),G(null),console.log("[TRANSLATION] \uD83D\uDDD1️  Buffer timeout limpiado")),F(""),B(""),H(0),ex();try{await en(),console.log("[TRANSLATION] ✅ Traducci\xf3n realtime detenida exitosamente")}catch(e){console.error("[TRANSLATION] ❌ Error al desconectar:",e)}},[en,ex]);(0,r.useEffect)(()=>{console.log("[GAME] State changed - gameState:",L.gameState,"currentLevel:",L.currentLevel,"levels:",L.levels.length)},[L.gameState,L.currentLevel,L.levels]),(0,r.useEffect)(()=>{L.loadLevels()},[]),(0,r.useEffect)(()=>("playing"===L.gameState&&L.currentWord?(console.log("[INACTIVITY] \uD83C\uDFAF Nueva palabra detectada, iniciando timer de inactividad"),eg()):(console.log("[INACTIVITY] \uD83D\uDED1 Juego no activo, limpiando timer"),eh()),()=>{eh()}),[L.gameState,L.currentWord,eg,eh]),(0,r.useEffect)(()=>{J.current=q},[q]),(0,r.useEffect)(()=>{_.current=W},[W]),(0,r.useEffect)(()=>{U.current=O},[O]),(0,r.useEffect)(()=>{if(!es)return;let e=es.letter||"",a=es.confidence||0;console.log("[PREDICTION] \uD83D\uDCE1 Letra recibida:",e,"Confianza:",a),a>=.7&&e&&"?"!==e?(B(e),H(a),console.log("[PREDICTION] ✅ Predicci\xf3n v\xe1lida mostrada:",e,a)):(B("?"),H(a),console.log("[PREDICTION] \uD83E\uDD37 Predicci\xf3n de baja confianza:",e,a))},[es,L.gameState]),(0,r.useEffect)(()=>{L.gameProgress.lives<=0&&"playing"===L.gameState&&L.endGame(!1)},[L.gameProgress.lives,L.gameState]),(0,r.useEffect)(()=>{var e;console.log("[GAME] \uD83D\uDD04 Estado del juego cambi\xf3 a:",L.gameState,"isTranslating:",q,"currentLevel:",null===(e=L.currentLevel)||void 0===e?void 0:e.name),"playing"!==L.gameState||q?"paused"===L.gameState&&q?(console.log("[GAME] ⏸️  Pausando traducci\xf3n autom\xe1ticamente..."),ef()):"menu"===L.gameState&&q&&(console.log("[GAME] \uD83C\uDFE0 Volviendo al men\xfa, deteniendo traducci\xf3n..."),ef()):(console.log("[GAME] ▶️  Iniciando traducci\xf3n autom\xe1ticamente..."),eN())},[L.gameState,q,eN,ef]),(0,r.useEffect)(()=>(console.log("[GAME] Componente montado - gameState:",L.gameState),()=>{var e;console.log("[GAME] ⚠️  COMPONENTE DESMONT\xc1NDOSE - gameState:",L.gameState,"currentLevel:",null===(e=L.currentLevel)||void 0===e?void 0:e.name),console.trace("[GAME] Stack trace del desmontaje:"),ef(),D(!1),ex()}),[]);let eb=(0,r.useCallback)(async e=>{console.log("[GAME] \uD83C\uDFAF Level selected:",e),console.log("[GAME] Before startGame - gameState:",L.gameState,"currentLevel:",L.currentLevel),P(e),await L.startGame(e.id),console.log("[GAME] After startGame - gameState:",L.gameState,"currentLevel:",L.currentLevel),D(!0),console.log("[GAME] \uD83D\uDCF7 C\xe1mara activada, esperando a que useEffect inicie traducci\xf3n...")},[L]),ey=(0,r.useCallback)(()=>{L.resetGame(),D(!1),ef(),P(null),ex()},[L,ef,ex]),eA=(0,r.useCallback)(e=>{switch(e){case"pause":console.log("[GAME] Pausando juego..."),L.pauseGame(),q&&ef();break;case"resume":console.log("[GAME] Reanudando juego..."),L.resumeGame(),q||"paused"===L.gameState||eN();break;case"restart":console.log("[GAME] Reiniciando juego..."),L.currentLevel&&(L.startGame(L.currentLevel.id),q||eN());break;case"quit":console.log("[GAME] Saliendo del juego..."),ey()}},[L,q,ef,eN,ey]),eC={totalScore:(null==w?void 0:w.total_points)||0,gamesPlayed:(null==w?void 0:w.games_played)||0,accuracy:Number(((null==w?void 0:w.accuracy_percentage)||0).toFixed(2)),bestStreak:(null==w?void 0:w.longest_streak)||0,levelsCompleted:L.levels.filter(e=>e.completed).length};return(0,s.jsxs)(l.e,{currentPage:"game",children:[(0,s.jsxs)("div",{className:"mb-4 p-2 bg-yellow-100 rounded text-xs",children:['Debug: gameState="',L.gameState,'" currentLevel=',L.currentLevel?L.currentLevel.name:"null"," levels=",L.levels.length,(0,s.jsx)("br",{}),'Buffer: "',W,'" (',W.length,"/",(null===(e=L.currentWord)||void 0===e?void 0:e.length)||0,') | Predicci\xf3n actual: "',$,'" (',(100*V).toFixed(2),"%)"]}),"menu"===L.gameState&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.K,{title:"\uD83C\uDFAE Modo Juego",subtitle:"Desaf\xeda tus habilidades con niveles progresivos"}),L.error&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-red-600",children:L.error})}),L.isLoading&&(0,s.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"ml-4 text-gray-600",children:"Cargando niveles..."})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDCCA Tus Estad\xedsticas"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,s.jsx)(x,{title:"Puntos Totales",value:eC.totalScore.toString(),icon:N.A}),(0,s.jsx)(x,{title:"Partidas",value:eC.gamesPlayed.toString(),icon:f.A}),(0,s.jsx)(x,{title:"Precisi\xf3n",value:"".concat(eC.accuracy,"%"),icon:b.A}),(0,s.jsx)(x,{title:"Mejor Racha",value:eC.bestStreak.toString(),icon:d.A}),(0,s.jsx)(x,{title:"Niveles",value:"".concat(eC.levelsCompleted,"/").concat(L.levels.length),icon:f.A})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\uD83C\uDFAF Selecciona un Nivel"}),L.isLoading?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Cargando niveles..."})]}):L.error?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsxs)("p",{className:"text-red-500 mb-4",children:["Error cargando niveles: ",L.error]}),(0,s.jsxs)(i.$,{onClick:()=>L.loadLevels(),children:[(0,s.jsx)(A,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]}):0===L.levels.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No hay niveles disponibles"})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:L.levels.map(e=>(0,s.jsx)(m,{id:e.id,name:e.name,description:e.description,color:"easy"===e.difficulty?"text-green-600":"medium"===e.difficulty?"text-blue-600":"text-red-600",bgColor:"easy"===e.difficulty?"bg-green-500":"medium"===e.difficulty?"bg-blue-500":"bg-red-500",unlocked:e.unlocked,completed:e.completed,stars:e.stars,onSelect:()=>eb(e)},e.id))})]})]}),("playing"===L.gameState||"paused"===L.gameState)&&L.currentLevel&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-sm p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(p.E,{variant:"outline",className:"text-lg px-3 py-1",children:L.currentLevel.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-red-500",children:[(0,s.jsx)(C,{size:20}),(0,s.jsx)("span",{className:"font-bold",children:L.gameProgress.lives})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-blue-500",children:[(0,s.jsx)(N.A,{size:20}),(0,s.jsx)("span",{className:"font-bold",children:L.gameProgress.score})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:["playing"===L.gameState?(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eA("pause"),children:[(0,s.jsx)(E,{size:16}),"Pausar"]}):(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eA("resume"),children:[(0,s.jsx)(u.A,{size:16}),"Reanudar"]}),(0,s.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>eA("quit"),children:[(0,s.jsx)(k.A,{size:16}),"Salir"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-8 shadow-sm",children:[(0,s.jsx)("h2",{className:"text-sm text-gray-600 mb-2",children:"Forma la palabra:"}),(0,s.jsx)("div",{className:"text-4xl md:text-6xl font-bold text-blue-600 tracking-wider",children:L.currentWord}),(0,s.jsxs)("div",{className:"mt-4 text-gray-500",children:["Palabra ",L.gameProgress.currentWordIndex+1," de ",L.currentWords.length]}),L.currentWord&&(0,s.jsx)("div",{className:"mt-4 flex justify-center",children:(0,s.jsx)("div",{className:"flex space-x-1",children:Array.from(L.currentWord).map((e,a)=>{let t=W[a],r=t&&t.toUpperCase()===e.toUpperCase(),l=!t;return(0,s.jsx)("div",{className:"\n                              w-8 h-8 border-2 rounded flex items-center justify-center text-sm font-bold\n                              ".concat(l?"border-gray-300 bg-gray-50 text-gray-400":r?"border-green-500 bg-green-100 text-green-700":"border-red-500 bg-red-100 text-red-700","\n                            "),children:t||e},a)})})})]}),(0,s.jsxs)("div",{className:"text-center bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-600 mb-2",children:"Tu palabra:"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 tracking-wider min-h-[40px]",children:W||"..."}),(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:L.currentWord?(0,s.jsxs)(s.Fragment,{children:[W.length,"/",L.currentWord.length," letras"]}):"Empieza a deletrear"}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Predicci\xf3n actual:"}),(0,s.jsxs)("div",{className:"text-xl font-bold text-blue-600 mb-3",children:[$," ",(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["(",(100*V).toFixed(2),"%)"]})]}),(0,s.jsxs)(i.$,{size:"sm",variant:"default",onClick:ev,disabled:!$||"?"===$||V<.7||W.length>=((null===(a=L.currentWord)||void 0===a?void 0:a.length)||0),className:"mr-2",children:['➕ Agregar "',$,'"']})]}),(0,s.jsxs)("div",{className:"mt-4 flex justify-center space-x-2",children:[(0,s.jsx)(i.$,{size:"sm",variant:"outline",onClick:ej,disabled:0===W.length,children:"\uD83D\uDCE4 Enviar"}),(0,s.jsx)(i.$,{size:"sm",variant:"ghost",onClick:ex,disabled:0===W.length,children:"\uD83D\uDDD1️ Limpiar"})]}),(0,s.jsxs)("div",{className:"mt-3 text-center",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["\uD83D\uDCCF Intervalo de captura: ",(0,s.jsxs)("span",{className:"font-mono",children:[Z.current,"ms"]})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:W.length>0?"\uD83D\uDD04 Activo":"\uD83D\uDE34 Idle"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Progreso del nivel"}),(0,s.jsxs)("span",{children:[(null===(t=L.gameProgress.correctWords)||void 0===t?void 0:t.length)||0,"/",L.currentWords.length]})]}),(0,s.jsx)(c.k,{value:L.currentWords.length>0?((null===(n=L.gameProgress.correctWords)||void 0===n?void 0:n.length)||0)/L.currentWords.length*100:0,className:"h-3"})]}),(0,s.jsx)(v.FW,{result:null,isProcessing:M,currentPrediction:$,confidence:V})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 relative",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCF9 C\xe1mara"}),(0,s.jsx)(v.hz,{ref:z,isActive:M,className:"aspect-video w-full max-w-sm mx-auto"}),(0,s.jsx)("div",{className:"mt-4 flex justify-center",children:(0,s.jsx)(i.$,{onClick:()=>{M?(D(!1),ef()):(D(!0),eN())},variant:M?"outline":"default",size:"sm",children:M?"Pausar C\xe1mara":"Activar C\xe1mara"})}),"paused"===L.gameState&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:(0,s.jsxs)("div",{className:"text-white text-center",children:[(0,s.jsx)(E,{size:48,className:"mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-2xl font-bold",children:"Juego Pausado"})]})})]})]})]}),"game-over"===L.gameState&&(0,s.jsxs)("div",{className:"text-center space-y-6",children:[(0,s.jsxs)("div",{className:"bg-red-50 rounded-xl p-8",children:[(0,s.jsx)(S,{size:64,className:"text-red-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"\xa1Game Over!"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Te quedaste sin vidas"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Resultado Final"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:L.gameProgress.score}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Puntos"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-500",children:(null===(o=L.gameProgress.correctWords)||void 0===o?void 0:o.length)||0}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Palabras Correctas"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,s.jsxs)(i.$,{onClick:()=>L.currentLevel&&L.startGame(L.currentLevel.id),children:[(0,s.jsx)(A,{size:16,className:"mr-2"}),"Intentar de Nuevo"]}),(0,s.jsxs)(i.$,{variant:"outline",onClick:ey,children:[(0,s.jsx)(k.A,{size:16,className:"mr-2"}),"Volver al Men\xfa"]})]})]}),"completed"===L.gameState&&(0,s.jsxs)("div",{className:"text-center space-y-6",children:[(0,s.jsxs)("div",{className:"bg-green-50 rounded-xl p-8",children:[(0,s.jsx)(b.A,{size:64,className:"text-green-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"\xa1Nivel Completado!"}),(0,s.jsx)("p",{className:"text-gray-600",children:"\xa1Excelente trabajo!"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Resultado Final"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:L.gameProgress.score}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Puntos"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-500",children:(null===(y=L.gameProgress.correctWords)||void 0===y?void 0:y.length)||0}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Correctas"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:L.gameProgress.streak}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Mejor Racha"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-center space-x-4",children:(0,s.jsxs)(i.$,{onClick:ey,children:[(0,s.jsx)(k.A,{size:16,className:"mr-2"}),"Volver al Men\xfa"]})})]})]})}},9969:(e,a,t)=>{Promise.resolve().then(t.bind(t,8968))}},e=>{var a=a=>e(e.s=a);e.O(0,[647,297,893,427,896,378,441,684,358],()=>a(9969)),_N_E=e.O()}]);